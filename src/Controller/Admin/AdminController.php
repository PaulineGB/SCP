<?php

namespace App\Controller\Admin;

use App\Entity\Image;
use App\Entity\Menace;
use App\Entity\Story;
use App\Entity\User;
use EasyCorp\Bundle\EasyAdminBundle\Config\Dashboard;
use EasyCorp\Bundle\EasyAdminBundle\Config\Assets;
use EasyCorp\Bundle\EasyAdminBundle\Config\MenuItem;
use EasyCorp\Bundle\EasyAdminBundle\Controller\AbstractDashboardController;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Annotation\Route;
use EasyCorp\Bundle\EasyAdminBundle\Router\CrudUrlGenerator;
use Sensio\Bundle\FrameworkExtraBundle\Configuration\IsGranted;

class AdminController extends AbstractDashboardController
{
    /**
     * @Route("/admindarkside", name="admindarkside")
     */
    public function index(): Response
    {
        $routeBuilder = $this->get(CrudUrlGenerator::class)->build();

        return $this->redirect($routeBuilder->setController(StoryCrudController::class)->generateUrl());
    }

    public function configureDashboard(): Dashboard
    {
        return Dashboard::new()
            ->setTitle('<img src="data:image/png;base64,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">');
    }

    public function configureMenuItems(): iterable
    {
        yield MenuItem::linktoDashboard('Dashboard', 'fa fa-home');
        yield MenuItem::linktoRoute('Retour sur le site', 'fa fa-home', 'home');
        yield MenuItem::linkToRoute('DÃ©connexion', 'fa fa-sign-out', 'logout');
        yield MenuItem::section('Menu');
        yield MenuItem::linkToCrud('Rapports SCP', '', Story::class);
        yield MenuItem::linkToCrud('Menaces', '', Menace::class);
        yield MenuItem::linkToCrud('Images', '', Image::class);
        yield MenuItem::linkToCrud('Utilisateurs', '', User::class);
    }
}
